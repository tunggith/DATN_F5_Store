{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let SanPhamComponent = class SanPhamComponent {\n  constructor(fb, sanPhamService) {\n    this.fb = fb;\n    this.sanPhamService = sanPhamService;\n    this.sanPhamList = [];\n    this.totalPagesSanPham = 0;\n    this.pageSanPham = 0;\n    this.sizeSanPham = 5;\n    this.chiTietSanPhamList = [];\n    this.gioiTinhList = [];\n    this.totalPagesChiTiet = 0;\n    this.pageChiTiet = 0;\n    this.sizeChiTiet = 5;\n    this.thuongHieuList = [];\n    this.xuatXuList = [];\n    this.selectedSanPhamId = 0;\n    this.filteredChiTietSanPhamList = []; // Danh sách lọc kết quả\n    this.sizes = []; // Biến để lưu danh sách các Size\n    this.mauSacList = [];\n    this.filteredSanPhamList = [];\n    this.popup = false;\n    this.searchTerm = '';\n    this.isUpdateProductDetailModalOpen = false; // Biến điều khiển modal cập nhật\n    this.selectedChiTietSanPhamId = 0; // ID của sản phẩm chi tiết đã chọn để cập nhật\n    this.searchChiTietTerm = '';\n    this.isaddThuocTinhlModalOpen = false; // Biến để điều khiển hiển thị modal\n    this.isAddProductDetailModalOpen = false; // Biến điều khiển modal\n  }\n\n  ngOnInit() {\n    this.sanPhamForm = this.fb.group({\n      id: [null],\n      maSanPham: ['', Validators.required],\n      tenSanPham: ['', Validators.required],\n      xuatXu: ['', Validators.required],\n      thuongHieu: ['', Validators.required],\n      gioiTinh: ['', Validators.required],\n      trangThai: ['đang hoạt động', Validators.required]\n    });\n    this.chiTietSanPhamForm = this.fb.group({\n      ma: ['', Validators.required],\n      ten: ['', Validators.required],\n      idMauSac: ['', Validators.required],\n      idSize: ['', Validators.required],\n      donGia: [0, Validators.required],\n      soLuong: [0, Validators.required],\n      trangThai: ['Còn hàng', Validators.required]\n    });\n    this.attributeForm = this.fb.group({\n      type: ['', Validators.required],\n      ma: ['', Validators.required],\n      ten: ['', Validators.required] // Tên thuộc tính\n    });\n\n    this.loaddata();\n    this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\n  }\n  openPopup(idChiTietSanPham) {\n    this.selectedSanPhamId = idChiTietSanPham;\n    this.popup = true;\n  }\n  closePopup() {\n    this.popup = false;\n  }\n  loaddata() {\n    this.getSanPhamPhanTrang(this.pageSanPham);\n    this.getAllThuongHieu();\n    this.getAllXuatXu();\n    this.getAllGioiTinh();\n    this.getAllSizes();\n    this.getAllMauSac();\n  }\n  getAllThuongHieu() {\n    this.sanPhamService.getAllThuongHieu().subscribe(response => {\n      this.thuongHieuList = response.result.content;\n    }, error => {\n      console.error('Lỗi khi lấy danh sách thương hiệu:', error);\n    });\n  }\n  getAllXuatXu() {\n    this.sanPhamService.getAllXuatXu().subscribe(response => {\n      this.xuatXuList = response.result.content;\n    }, error => {\n      console.error('Lỗi khi lấy danh sách xuất xứ:', error);\n    });\n  }\n  getAllGioiTinh() {\n    this.sanPhamService.getAllGioiTinh().subscribe(response => {\n      this.gioiTinhList = response.result.content;\n    }, error => {\n      console.error('Lỗi khi lấy danh sách giới tính:', error);\n    });\n  }\n  getAllSizes() {\n    this.sanPhamService.getAllSizes().subscribe(response => {\n      console.log('Danh sách kích thước:', response);\n      this.sizes = response.result.content; // Gán dữ liệu trả về từ API vào biến sizes\n      console.log('Danh sách kích thước:', this.sizes);\n    }, error => {\n      console.error('Lỗi khi lấy danh sách kích thước:', error);\n    });\n  }\n  getAllMauSac() {\n    this.sanPhamService.getAllMauSac().subscribe(response => {\n      this.mauSacList = response.result.content;\n      ; // Gán dữ liệu trả về từ API vào biến mauSacList\n      console.log('Danh sách màu sắc:', this.mauSacList);\n    }, error => {\n      console.error('Lỗi khi lấy danh sách màu sắc:', error);\n    });\n  }\n  getSanPhamPhanTrang(page) {\n    this.sanPhamService.getSanPhamPhanTrang(page, this.sizeSanPham).subscribe(response => {\n      if (response.status) {\n        console.log('Dữ liệu sản phẩm:', response.result.content); // Log dữ liệu trả về từ API để kiểm tra\n        this.sanPhamList = response.result.content.content; // Gán danh sách sản phẩm\n        this.filteredSanPhamList = [...this.sanPhamList]; // Sao chép dữ liệu cho filtered list\n        this.totalPagesSanPham = response.result.content.totalPages; // Gán số trang\n        this.pageSanPham = response.result.content.pageable.pageNumber; // Gán số trang hiện tại\n      }\n    }, error => {\n      console.error('Lỗi khi gọi API getSanPhamPhanTrang:', error);\n    });\n  }\n  getChiTietSanPhamPhanTrang(idSanPham, page = 0) {\n    this.sanPhamService.getChiTietSanPhamPhanTrang(idSanPham, page, this.sizeChiTiet).subscribe(response => {\n      console.log(\"danh sachs chi tiet san pham duoc lau\", response);\n      if (response && response.content) {\n        this.chiTietSanPhamList = response.content || [];\n        this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList]; // Cập nhật danh sách lọc từ danh sách chính\n        // Cập nhật thông tin phân trang\n        if (response.pagination) {\n          this.totalPagesChiTiet = response.pagination.totalPages || 1;\n          this.pageChiTiet = response.pagination.pageNumber || 0;\n        } else {\n          this.totalPagesChiTiet = 1;\n          this.pageChiTiet = 0;\n        }\n      } else {\n        console.warn('Response không hợp lệ hoặc không có danh sách sản phẩm.');\n      }\n    }, error => {\n      console.error('Lỗi khi lấy chi tiết sản phẩm:', error);\n    });\n  }\n  // Hàm chọn sản phẩm và điền vào form\n  selectSanPham(sanpham) {\n    console.log('Sản phẩm được chọn:', sanpham); // Kiểm tra sản phẩm được chọn\n    if (!sanpham || typeof sanpham.id === 'undefined') {\n      console.error('Sản phẩm không hợp lệ:', sanpham);\n      return; // Dừng lại nếu sản phẩm không hợp lệ\n    }\n\n    this.selectedSanPhamId = sanpham.id;\n    // Cập nhật thông tin vào form\n    this.sanPhamForm.patchValue({\n      maSanPham: sanpham.ma,\n      tenSanPham: sanpham.ten,\n      xuatXu: sanpham.xuatXu?.id,\n      thuongHieu: sanpham.thuongHieu?.id,\n      gioiTinh: sanpham.gioiTinh?.id,\n      trangThai: sanpham.trangThai\n    });\n  }\n  // Hàm chọn sản phẩm chi tiết\n  selectSanPhamChiTiet(idSanPham) {\n    this.selectedSanPhamId = idSanPham;\n    this.getChiTietSanPhamPhanTrang(idSanPham);\n  }\n  changePageChiTiet(newPage) {\n    if (newPage >= 0 && newPage < this.totalPagesChiTiet) {\n      this.getChiTietSanPhamPhanTrang(this.selectedSanPhamId, newPage);\n    }\n  }\n  changePageSanPham(newPage) {\n    if (newPage >= 0 && newPage < this.totalPagesSanPham) {\n      this.getSanPhamPhanTrang(newPage);\n    }\n  }\n  loadAllChiTietSanPham() {\n    this.sanPhamService.getAllChiTietSanPham().subscribe(data => {\n      this.chiTietSanPhamList = data; // Gán dữ liệu vào danh sách\n    }, error => {\n      console.error('Lỗi khi lấy danh sách chi tiết sản phẩm:', error);\n    });\n  }\n  // Hàm tìm kiếm sản phẩm\n  onSearch(searchTerm) {\n    if (searchTerm && searchTerm.trim() !== '') {\n      this.filteredSanPhamList = this.sanPhamList.filter(sanpham => sanpham.ten.toLowerCase().includes(searchTerm.toLowerCase()) || sanpham.ma.toLowerCase().includes(searchTerm.toLowerCase()));\n    } else {\n      // Nếu không có từ khóa tìm kiếm, hiển thị lại toàn bộ danh sách sản phẩm\n      this.filteredSanPhamList = [...this.sanPhamList];\n    }\n  }\n  searchChiTietSanPham() {\n    const search = this.searchTerm.toLowerCase().trim();\n    if (search) {\n      // Lọc dữ liệu theo từ khóa\n      this.filteredChiTietSanPhamList = this.chiTietSanPhamList.filter(chiTiet => chiTiet.ma.toLowerCase().includes(search) || chiTiet.ten.toLowerCase().includes(search) || chiTiet.mauSac.ten.toLowerCase().includes(search) || chiTiet.size.ten.toLowerCase().includes(search) || chiTiet.trangThai.toLowerCase().includes(search));\n    } else {\n      // Nếu không có từ khóa, hiển thị toàn bộ dữ liệu\n      this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\n    }\n  }\n  onSearchChiTiet(searchTerm) {\n    if (searchTerm && searchTerm.trim() !== '') {\n      this.filteredChiTietSanPhamList = this.chiTietSanPhamList.filter(chiTiet => chiTiet.ma.toLowerCase().includes(searchTerm.toLowerCase()) || chiTiet.ten.toLowerCase().includes(searchTerm.toLowerCase()) || chiTiet.mauSac.ten.toLowerCase().includes(searchTerm.toLowerCase()) || chiTiet.size.ten.toLowerCase().includes(searchTerm.toLowerCase()) || chiTiet.trangThai.toLowerCase().includes(searchTerm.toLowerCase()));\n    } else {\n      // Nếu không có từ khóa tìm kiếm, hiển thị lại toàn bộ danh sách chi tiết sản phẩm\n      this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\n    }\n  }\n};\nSanPhamComponent = __decorate([Component({\n  selector: \"app-san-pham\",\n  templateUrl: \"./san-pham.component.html\",\n  styleUrls: [\"./san-pham.component.css\"]\n})], SanPhamComponent);","map":{"version":3,"names":["Component","Validators","SanPhamComponent","constructor","fb","sanPhamService","sanPhamList","totalPagesSanPham","pageSanPham","sizeSanPham","chiTietSanPhamList","gioiTinhList","totalPagesChiTiet","pageChiTiet","sizeChiTiet","thuongHieuList","xuatXuList","selectedSanPhamId","filteredChiTietSanPhamList","sizes","mauSacList","filteredSanPhamList","popup","searchTerm","isUpdateProductDetailModalOpen","selectedChiTietSanPhamId","searchChiTietTerm","isaddThuocTinhlModalOpen","isAddProductDetailModalOpen","ngOnInit","sanPhamForm","group","id","maSanPham","required","tenSanPham","xuatXu","thuongHieu","gioiTinh","trangThai","chiTietSanPhamForm","ma","ten","idMauSac","idSize","donGia","soLuong","attributeForm","type","loaddata","openPopup","idChiTietSanPham","closePopup","getSanPhamPhanTrang","getAllThuongHieu","getAllXuatXu","getAllGioiTinh","getAllSizes","getAllMauSac","subscribe","response","result","content","error","console","log","page","status","totalPages","pageable","pageNumber","getChiTietSanPhamPhanTrang","idSanPham","pagination","warn","selectSanPham","sanpham","patchValue","selectSanPhamChiTiet","changePageChiTiet","newPage","changePageSanPham","loadAllChiTietSanPham","getAllChiTietSanPham","data","onSearch","trim","filter","toLowerCase","includes","searchChiTietSanPham","search","chiTiet","mauSac","size","onSearchChiTiet","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\Du_An_Tot_Nghiep\\DATN_F5_Store\\client-fe\\src\\app\\components\\san-pham\\san-pham.component.ts"],"sourcesContent":["import { CurrencyPipe } from \"@angular/common\";\r\nimport { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ChatLieu } from \"src/app/model/class/chat-lieu.class\";\r\nimport { CoAo } from \"src/app/model/class/co-ao.class\";\r\nimport { KichCo } from \"src/app/model/class/kich-co.class\";\r\nimport { KieuDang } from \"src/app/model/class/kieu-dang.class\";\r\nimport { KieuThietKe } from \"src/app/model/class/kieu-thiet-ke.class\";\r\nimport { MauSac } from \"src/app/model/class/mau-sac.class\";\r\nimport { SaleEvent } from \"src/app/model/class/sale-event.class\";\r\nimport { SanPham } from \"src/app/model/class/san-pham.class\";\r\nimport { TayAo } from \"src/app/model/class/tay-ao.class\";\r\nimport { PagedResponse } from \"src/app/model/interface/paged-response.interface\";\r\nimport { CollarService } from \"src/app/service/collar.service\";\r\nimport { ColorService } from \"src/app/service/color.service\";\r\nimport { DesignService } from \"src/app/service/design.service\";\r\nimport { FormService } from \"src/app/service/form.service\";\r\nimport { MaterialService } from \"src/app/service/material.service\";\r\nimport { NotificationService } from \"src/app/service/notification.service\";\r\nimport { ProductService } from \"src/app/service/product.service\";\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: \"app-san-pham\",\r\n  templateUrl: \"./san-pham.component.html\",\r\n  styleUrls: [\"./san-pham.component.css\"],\r\n})\r\nexport class SanPhamComponent {\r\n  sanPhamList: any[] = [];\r\n  totalPagesSanPham: number = 0;\r\n  pageSanPham: number = 0;\r\n  sizeSanPham: number = 5;\r\n\r\n  chiTietSanPhamList: any[] = [];\r\n  gioiTinhList: any[] = [];\r\n  totalPagesChiTiet: number = 0;\r\n  pageChiTiet: number = 0;\r\n  sizeChiTiet: number = 5;\r\n\r\n  thuongHieuList: any[] = [];\r\n  xuatXuList: any[] = [];\r\n  selectedSanPhamId: number = 0;\r\n\r\n  filteredChiTietSanPhamList: any[] = []; // Danh sách lọc kết quả\r\n  sizes: any[] = [];  // Biến để lưu danh sách các Size\r\n  mauSacList: any[] = [];\r\n\r\n  filteredSanPhamList: any[] = [];\r\n  popup: boolean=false;\r\n\r\n  searchTerm: string = '';\r\n  isUpdateProductDetailModalOpen: boolean = false;  // Biến điều khiển modal cập nhật\r\n  selectedChiTietSanPhamId: number = 0;  // ID của sản phẩm chi tiết đã chọn để cập nhật\r\n\r\n  sanPhamForm: FormGroup;\r\n  attributeForm: FormGroup;\r\n  chiTietSanPhamForm : FormGroup;\r\n\r\n  searchChiTietTerm: string = '';\r\n  isaddThuocTinhlModalOpen = false;  // Biến để điều khiển hiển thị modal\r\n\r\n  constructor(private fb: FormBuilder, private sanPhamService: ProductService) { }\r\n  isAddProductDetailModalOpen: boolean = false;  // Biến điều khiển modal\r\n\r\n\r\n  ngOnInit() {\r\n    this.sanPhamForm = this.fb.group({\r\n      id: [null],\r\n      maSanPham: ['', Validators.required],\r\n      tenSanPham: ['', Validators.required],\r\n      xuatXu: ['', Validators.required],\r\n      thuongHieu: ['', Validators.required],\r\n      gioiTinh: ['', Validators.required],\r\n      trangThai: ['đang hoạt động', Validators.required]\r\n    });\r\n\r\n\r\n    this.chiTietSanPhamForm = this.fb.group({\r\n      ma: ['', Validators.required],\r\n      ten: ['', Validators.required],\r\n      idMauSac: ['', Validators.required],\r\n      idSize: ['', Validators.required],\r\n      donGia: [0, Validators.required],\r\n      soLuong: [0, Validators.required],\r\n      trangThai: ['Còn hàng', Validators.required]\r\n    });\r\n\r\n\r\n    this.attributeForm = this.fb.group({\r\n      type: ['', Validators.required],  // Loại thuộc tính\r\n      ma: ['', Validators.required],    // Mã thuộc tính\r\n      ten: ['', Validators.required]    // Tên thuộc tính\r\n    });\r\n\r\n    this.loaddata();\r\n\r\n    this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\r\n  }\r\n  openPopup(idChiTietSanPham:number) {\r\n    this.selectedSanPhamId = idChiTietSanPham;\r\n    this.popup = true;\r\n  }\r\n  closePopup() {\r\n    this.popup = false;\r\n  }\r\n  loaddata() {\r\n    this.getSanPhamPhanTrang(this.pageSanPham);\r\n    this.getAllThuongHieu();\r\n    this.getAllXuatXu();\r\n    this.getAllGioiTinh();\r\n    this.getAllSizes();\r\n    this.getAllMauSac();\r\n\r\n  }\r\n\r\n\r\n  getAllThuongHieu() {\r\n    this.sanPhamService.getAllThuongHieu().subscribe(response => {\r\n      this.thuongHieuList = response.result.content;\r\n    }, error => {\r\n      console.error('Lỗi khi lấy danh sách thương hiệu:', error);\r\n    });\r\n  }\r\n\r\n  getAllXuatXu() {\r\n    this.sanPhamService.getAllXuatXu().subscribe(response => {\r\n      this.xuatXuList = response.result.content;\r\n    }, error => {\r\n      console.error('Lỗi khi lấy danh sách xuất xứ:', error);\r\n    });\r\n  }\r\n\r\n  getAllGioiTinh() {\r\n    this.sanPhamService.getAllGioiTinh().subscribe(response => {\r\n      this.gioiTinhList = response.result.content;\r\n    }, error => {\r\n      console.error('Lỗi khi lấy danh sách giới tính:', error);\r\n    });\r\n  }\r\n\r\n\r\n  getAllSizes(): void {\r\n    this.sanPhamService.getAllSizes().subscribe(\r\n      (response) => {\r\n        console.log('Danh sách kích thước:', response);\r\n        this.sizes = response.result.content;  // Gán dữ liệu trả về từ API vào biến sizes\r\n        console.log('Danh sách kích thước:', this.sizes);\r\n      },\r\n      (error) => {\r\n        console.error('Lỗi khi lấy danh sách kích thước:', error);\r\n      }\r\n    );\r\n  }\r\n  getAllMauSac(): void {\r\n    this.sanPhamService.getAllMauSac().subscribe(\r\n      (response) => {\r\n        this.mauSacList = response.result.content;;  // Gán dữ liệu trả về từ API vào biến mauSacList\r\n        console.log('Danh sách màu sắc:', this.mauSacList);\r\n      },\r\n      (error) => {\r\n        console.error('Lỗi khi lấy danh sách màu sắc:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getSanPhamPhanTrang(page: number) {\r\n    this.sanPhamService.getSanPhamPhanTrang(page, this.sizeSanPham).subscribe(response => {\r\n      if (response.status) {\r\n        console.log('Dữ liệu sản phẩm:', response.result.content);  // Log dữ liệu trả về từ API để kiểm tra\r\n        this.sanPhamList = response.result.content.content;  // Gán danh sách sản phẩm\r\n        this.filteredSanPhamList = [...this.sanPhamList];    // Sao chép dữ liệu cho filtered list\r\n        this.totalPagesSanPham = response.result.content.totalPages;  // Gán số trang\r\n        this.pageSanPham = response.result.content.pageable.pageNumber;  // Gán số trang hiện tại\r\n      }\r\n    }, error => {\r\n      console.error('Lỗi khi gọi API getSanPhamPhanTrang:', error);\r\n    });\r\n  }\r\n\r\n\r\n  getChiTietSanPhamPhanTrang(idSanPham: number, page: number = 0) {\r\n    this.sanPhamService.getChiTietSanPhamPhanTrang(idSanPham, page, this.sizeChiTiet).subscribe(\r\n      response => {\r\n        console.log(\"danh sachs chi tiet san pham duoc lau\",response)\r\n        if (response && response.content) {\r\n          this.chiTietSanPhamList = response.content || [];\r\n          this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList]; // Cập nhật danh sách lọc từ danh sách chính\r\n        \r\n          // Cập nhật thông tin phân trang\r\n          if (response.pagination) {\r\n            this.totalPagesChiTiet = response.pagination.totalPages || 1;\r\n            this.pageChiTiet = response.pagination.pageNumber || 0;\r\n          } else {\r\n            this.totalPagesChiTiet = 1;\r\n            this.pageChiTiet = 0;\r\n          }\r\n        } else {\r\n          console.warn('Response không hợp lệ hoặc không có danh sách sản phẩm.');\r\n        }\r\n        \r\n      },\r\n      error => {\r\n        console.error('Lỗi khi lấy chi tiết sản phẩm:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // Hàm chọn sản phẩm và điền vào form\r\n  selectSanPham(sanpham: any) {\r\n    console.log('Sản phẩm được chọn:', sanpham); // Kiểm tra sản phẩm được chọn\r\n\r\n    if (!sanpham || typeof sanpham.id === 'undefined') {\r\n      console.error('Sản phẩm không hợp lệ:', sanpham);\r\n      return; // Dừng lại nếu sản phẩm không hợp lệ\r\n    }\r\n\r\n    this.selectedSanPhamId = sanpham.id;\r\n\r\n    // Cập nhật thông tin vào form\r\n    this.sanPhamForm.patchValue({\r\n      maSanPham: sanpham.ma,\r\n      tenSanPham: sanpham.ten,\r\n      xuatXu: sanpham.xuatXu?.id,  // Optional chaining để tránh lỗi nếu xuatXu không tồn tại\r\n      thuongHieu: sanpham.thuongHieu?.id,  // Optional chaining để tránh lỗi nếu thuongHieu không tồn tại\r\n      gioiTinh: sanpham.gioiTinh?.id,  // Optional chaining để tránh lỗi nếu gioiTinh không tồn tại\r\n      trangThai: sanpham.trangThai\r\n    });\r\n  }\r\n\r\n  // Hàm chọn sản phẩm chi tiết\r\n  selectSanPhamChiTiet(idSanPham: number) {\r\n    this.selectedSanPhamId = idSanPham;\r\n    this.getChiTietSanPhamPhanTrang(idSanPham);\r\n  }\r\n\r\n  changePageChiTiet(newPage: number) {\r\n    if (newPage >= 0 && newPage < this.totalPagesChiTiet) {\r\n      this.getChiTietSanPhamPhanTrang(this.selectedSanPhamId, newPage);\r\n    }\r\n  }\r\n\r\n  changePageSanPham(newPage: number) {\r\n    if (newPage >= 0 && newPage < this.totalPagesSanPham) {\r\n      this.getSanPhamPhanTrang(newPage);\r\n    }\r\n  }\r\n    loadAllChiTietSanPham() {\r\n      this.sanPhamService.getAllChiTietSanPham().subscribe(\r\n        (data: any[]) => {\r\n          this.chiTietSanPhamList = data;  // Gán dữ liệu vào danh sách\r\n        },\r\n        (error) => {\r\n          console.error('Lỗi khi lấy danh sách chi tiết sản phẩm:', error);\r\n        }\r\n    );\r\n  }\r\n\r\n   // Hàm tìm kiếm sản phẩm\r\n   onSearch(searchTerm: string) {\r\n    if (searchTerm && searchTerm.trim() !== '') {\r\n      this.filteredSanPhamList = this.sanPhamList.filter(sanpham =>\r\n        sanpham.ten.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        sanpham.ma.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    } else {\r\n      // Nếu không có từ khóa tìm kiếm, hiển thị lại toàn bộ danh sách sản phẩm\r\n      this.filteredSanPhamList = [...this.sanPhamList];\r\n    }\r\n  }\r\n\r\n\r\n  searchChiTietSanPham() {\r\n    const search = this.searchTerm.toLowerCase().trim();\r\n\r\n    if (search) {\r\n      // Lọc dữ liệu theo từ khóa\r\n      this.filteredChiTietSanPhamList = this.chiTietSanPhamList.filter(chiTiet =>\r\n        chiTiet.ma.toLowerCase().includes(search) ||\r\n        chiTiet.ten.toLowerCase().includes(search) ||\r\n        chiTiet.mauSac.ten.toLowerCase().includes(search) ||\r\n        chiTiet.size.ten.toLowerCase().includes(search) ||\r\n        chiTiet.trangThai.toLowerCase().includes(search)\r\n      );\r\n    } else {\r\n      // Nếu không có từ khóa, hiển thị toàn bộ dữ liệu\r\n      this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\r\n    }\r\n  }\r\n\r\n  onSearchChiTiet(searchTerm: string) {\r\n    if (searchTerm && searchTerm.trim() !== '') {\r\n      this.filteredChiTietSanPhamList = this.chiTietSanPhamList.filter(chiTiet =>\r\n        chiTiet.ma.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        chiTiet.ten.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        chiTiet.mauSac.ten.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        chiTiet.size.ten.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        chiTiet.trangThai.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    } else {\r\n      // Nếu không có từ khóa tìm kiếm, hiển thị lại toàn bộ danh sách chi tiết sản phẩm\r\n      this.filteredChiTietSanPhamList = [...this.chiTietSanPhamList];\r\n    }\r\n  }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}