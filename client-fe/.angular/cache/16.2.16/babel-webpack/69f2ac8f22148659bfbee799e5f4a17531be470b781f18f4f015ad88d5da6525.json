{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class WebSocketService {\n  constructor() {\n    this.messages = [];\n  }\n  openWebSocket() {\n    this.webSocket = new WebSocket(\"ws://localhost:8080/notification2\");\n    this.webSocket.onopen = event => {};\n    this.webSocket.onmessage = event => {\n      const msg = JSON.parse(event.data);\n      this.messages.push(msg);\n    };\n    this.webSocket.onclose = event => {};\n  }\n  sendMessage(message) {\n    this.webSocket.send(JSON.stringify(message));\n  }\n  closeWebSocket() {\n    this.webSocket.close();\n  }\n  static #_ = this.ɵfac = function WebSocketService_Factory(t) {\n    return new (t || WebSocketService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: WebSocketService,\n    factory: WebSocketService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["WebSocketService","constructor","messages","openWebSocket","webSocket","WebSocket","onopen","event","onmessage","msg","JSON","parse","data","push","onclose","sendMessage","message","send","stringify","closeWebSocket","close","_","_2","factory","ɵfac","providedIn"],"sources":["E:\\Du_An_Tot_Nghiep\\DATN_F5_Store\\client-fe\\src\\app\\service\\web-socket.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class WebSocketService {\r\n  webSocket!: WebSocket;\r\n  messages: string[] = [];\r\n\r\n  public openWebSocket() {\r\n    this.webSocket = new WebSocket(\"ws://localhost:8080/notification2\");\r\n    this.webSocket.onopen = (event) => {};\r\n    this.webSocket.onmessage = (event) => {\r\n      const msg = JSON.parse(event.data);\r\n      this.messages.push(msg);\r\n    };\r\n    this.webSocket.onclose = (event) => {};\r\n  }\r\n\r\n  public sendMessage(message: string) {\r\n    this.webSocket.send(JSON.stringify(message));\r\n  }\r\n\r\n  public closeWebSocket() {\r\n    this.webSocket.close();\r\n  }\r\n}\r\n"],"mappings":";AAKA,OAAM,MAAOA,gBAAgB;EAH7BC,YAAA;IAKE,KAAAC,QAAQ,GAAa,EAAE;;EAEhBC,aAAaA,CAAA;IAClB,IAAI,CAACC,SAAS,GAAG,IAAIC,SAAS,CAAC,mCAAmC,CAAC;IACnE,IAAI,CAACD,SAAS,CAACE,MAAM,GAAIC,KAAK,IAAI,CAAE,CAAC;IACrC,IAAI,CAACH,SAAS,CAACI,SAAS,GAAID,KAAK,IAAI;MACnC,MAAME,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACK,IAAI,CAAC;MAClC,IAAI,CAACV,QAAQ,CAACW,IAAI,CAACJ,GAAG,CAAC;IACzB,CAAC;IACD,IAAI,CAACL,SAAS,CAACU,OAAO,GAAIP,KAAK,IAAI,CAAE,CAAC;EACxC;EAEOQ,WAAWA,CAACC,OAAe;IAChC,IAAI,CAACZ,SAAS,CAACa,IAAI,CAACP,IAAI,CAACQ,SAAS,CAACF,OAAO,CAAC,CAAC;EAC9C;EAEOG,cAAcA,CAAA;IACnB,IAAI,CAACf,SAAS,CAACgB,KAAK,EAAE;EACxB;EAAC,QAAAC,CAAA,G;qBApBUrB,gBAAgB;EAAA;EAAA,QAAAsB,EAAA,G;WAAhBtB,gBAAgB;IAAAuB,OAAA,EAAhBvB,gBAAgB,CAAAwB,IAAA;IAAAC,UAAA,EAFf;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}