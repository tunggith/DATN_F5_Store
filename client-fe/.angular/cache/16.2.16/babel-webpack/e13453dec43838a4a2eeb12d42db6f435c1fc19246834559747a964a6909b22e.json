{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GiaoHangNhanhService {\n  constructor(http) {\n    this.http = http;\n    // token shop\n    this.client_token = \"18076f8d-bcb9-11ee-b1d4-92b443b7a897\";\n  }\n  // 1\n  getTokenPhieuGiaoHang(order_code) {\n    // set data here\n    let rawData = {\n      order_codes: [order_code]\n    };\n    // set url here\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/a5/gen-token\";\n    //set headers here\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 2\n  getOrderInforByClientOrderCode(orderClientCode) {\n    let rawData = {\n      client_order_code: orderClientCode\n    };\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail-by-client-code\";\n    //set headers here\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 3 get all tỉnh\n  getAllProvince() {\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/province\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    return this.http.get(url, {\n      headers\n    });\n  }\n  // 4 get all huyện by tỉnh\n  getAllDistrictByProvinceID(province_id) {\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/district\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    const rawData = {\n      province_id: Number(province_id)\n    };\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 5 get all xã by huyện\n  getAllWardByDistrictID(DistrictID) {\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/ward?district_id\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    const rawData = {\n      district_id: Number(DistrictID)\n    };\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 6 get thời gian dự kiến\n  getExpectedDeliveryTime(addressShipFee) {\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token).set(\"ShopId\", \"190872\");\n    let rawData = {\n      from_district_id: 3440,\n      from_ward_code: \"13010\",\n      to_ward_code: addressShipFee.xaCode,\n      to_district_id: Number(addressShipFee.huyenId),\n      service_id: 53320\n    };\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 7 get phí vận chuyển\n  getFee(addressShipFee, service_id) {\n    let shopId = 190872;\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token).set(\"ShopId\", shopId + \"\");\n    let rawData = {\n      to_district_id: Number(addressShipFee.huyenId),\n      to_ward_code: addressShipFee.xaCode,\n      weight: 400,\n      service_id\n    };\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  // 8 get service\n  getService(shop_id, from_district, to_district) {\n    let url = \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services\";\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\n    let rawData = {\n      shop_id: Number(shop_id),\n      from_district: Number(from_district),\n      to_district: Number(to_district)\n    };\n    return this.http.post(url, rawData, {\n      headers\n    });\n  }\n  static #_ = this.ɵfac = function GiaoHangNhanhService_Factory(t) {\n    return new (t || GiaoHangNhanhService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: GiaoHangNhanhService,\n    factory: GiaoHangNhanhService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["HttpHeaders","GiaoHangNhanhService","constructor","http","client_token","getTokenPhieuGiaoHang","order_code","rawData","order_codes","url","headers","set","post","getOrderInforByClientOrderCode","orderClientCode","client_order_code","getAllProvince","get","getAllDistrictByProvinceID","province_id","Number","getAllWardByDistrictID","DistrictID","district_id","getExpectedDeliveryTime","addressShipFee","from_district_id","from_ward_code","to_ward_code","xaCode","to_district_id","huyenId","service_id","getFee","shopId","weight","getService","shop_id","from_district","to_district","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["E:\\Du_An_Tot_Nghiep\\DATN_F5_Store\\client-fe\\src\\app\\service\\giao-hang-nhanh.service.ts"],"sourcesContent":["import { Observable } from \"rxjs\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\nimport { AddressShipFee } from \"../model/class/address-ship-fee.class\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class GiaoHangNhanhService {\r\n  // token shop\r\n  private readonly client_token = \"18076f8d-bcb9-11ee-b1d4-92b443b7a897\";\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // 1\r\n  getTokenPhieuGiaoHang(order_code: string): Observable<any> {\r\n    // set data here\r\n    let rawData = {\r\n      order_codes: [order_code],\r\n    };\r\n\r\n    // set url here\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/a5/gen-token\";\r\n\r\n    //set headers here\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 2\r\n  getOrderInforByClientOrderCode(orderClientCode: string): Observable<any> {\r\n    let rawData = {\r\n      client_order_code: orderClientCode,\r\n    };\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail-by-client-code\";\r\n    //set headers here\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 3 get all tỉnh\r\n  getAllProvince(): Observable<any> {\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/province\";\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    return this.http.get(url, { headers });\r\n  }\r\n\r\n  // 4 get all huyện by tỉnh\r\n  getAllDistrictByProvinceID(province_id: number): Observable<any> {\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/district\";\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    const rawData = { province_id: Number(province_id) };\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 5 get all xã by huyện\r\n  getAllWardByDistrictID(DistrictID: number): Observable<any> {\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/master-data/ward?district_id\";\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    const rawData = { district_id: Number(DistrictID) };\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 6 get thời gian dự kiến\r\n  getExpectedDeliveryTime(addressShipFee: AddressShipFee): Observable<any> {\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime\";\r\n    const headers = new HttpHeaders()\r\n      .set(\"Token\", this.client_token)\r\n      .set(\"ShopId\", \"190872\");\r\n    let rawData = {\r\n      from_district_id: 3440,\r\n      from_ward_code: \"13010\",\r\n      to_ward_code: addressShipFee.xaCode,\r\n      to_district_id: Number(addressShipFee.huyenId),\r\n      service_id: 53320,\r\n    };\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 7 get phí vận chuyển\r\n  getFee(addressShipFee: AddressShipFee, service_id: number): Observable<any> {\r\n    let shopId = 190872;\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\r\n    const headers = new HttpHeaders()\r\n      .set(\"Token\", this.client_token)\r\n      .set(\"ShopId\", shopId + \"\");\r\n\r\n    let rawData = {\r\n      to_district_id: Number(addressShipFee.huyenId),\r\n      to_ward_code: addressShipFee.xaCode,\r\n      weight: 400,\r\n      service_id,\r\n    };\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n\r\n  // 8 get service\r\n  getService(\r\n    shop_id: number,\r\n    from_district: number,\r\n    to_district: number\r\n  ): Observable<any> {\r\n    let url =\r\n      \"https://dev-online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services\";\r\n    const headers = new HttpHeaders().set(\"Token\", this.client_token);\r\n    let rawData = {\r\n      shop_id: Number(shop_id),\r\n      from_district: Number(from_district),\r\n      to_district: Number(to_district),\r\n    };\r\n    return this.http.post(url, rawData, { headers });\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}